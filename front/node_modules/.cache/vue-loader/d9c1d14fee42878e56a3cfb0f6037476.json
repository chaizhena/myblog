{"remainingRequest":"D:\\webProject\\vueblog-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\webProject\\vueblog-vue\\src\\components\\library\\ImgUpload.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\webProject\\vueblog-vue\\src\\components\\library\\ImgUpload.vue","mtime":1641738691947},{"path":"D:\\webProject\\vueblog-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638172628679},{"path":"D:\\webProject\\vueblog-vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1638172628679},{"path":"D:\\webProject\\vueblog-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1638172629714},{"path":"D:\\webProject\\vueblog-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638172628679},{"path":"D:\\webProject\\vueblog-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1638172630039}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSW1nVXBsb2FkJywKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGZpbGVMaXN0OiBbXSwKICAgICAgdXJsOiAnJwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlUmVtb3ZlIChmaWxlLCBmaWxlTGlzdCkgewogICAgfSwKICAgIGhhbmRsZVByZXZpZXcgKGZpbGUpIHsKICAgIH0sCiAgICBoYW5kbGVFeGNlZWQgKGZpbGVzLCBmaWxlTGlzdCkgewogICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoYOW9k+WJjemZkOWItumAieaLqSAxIOS4quaWh+S7tu+8jOacrOasoemAieaLqeS6hiAke2ZpbGVzLmxlbmd0aH0g5Liq5paH5Lu277yM5YWx6YCJ5oup5LqGICR7ZmlsZXMubGVuZ3RoICsgZmlsZUxpc3QubGVuZ3RofSDkuKrmlofku7ZgKQogICAgfSwKICAgIGJlZm9yZVJlbW92ZSAoZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgcmV0dXJuIHRoaXMuJGNvbmZpcm0oYOehruWumuenu+mZpCAke2ZpbGUubmFtZX3vvJ9gKQogICAgfSwKICAgIGhhbmRsZVN1Y2Nlc3MgKHJlc3BvbnNlKSB7CiAgICAgIGlmKHJlc3BvbnNlLmZsYWcgJiYgcmVzcG9uc2UuY29kZSA9PT0gMjAwKXsKICAgICAgICB0aGlzLnVybCA9IHJlc3BvbnNlLmRhdGEKICAgICAgICB0aGlzLiRlbWl0KCdvblVwbG9hZCcpCiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfkuIrkvKDmiJDlip8nKQogICAgICB9ZWxzZXsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcocmVzcG9uc2UubWVzc2FnZSkKICAgICAgfQogICAgICAKICAgIH0sCiAgICBjbGVhciAoKSB7CiAgICAgIHRoaXMuJHJlZnMudXBsb2FkLmNsZWFyRmlsZXMoKQogICAgfQogIH0KfQo="},{"version":3,"sources":["ImgUpload.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"ImgUpload.vue","sourceRoot":"src/components/library","sourcesContent":["<template>\r\n  <el-upload\r\n    class=\"img-upload\"\r\n    ref=\"upload\"\r\n    action=\"http://123.57.36.1:8081/covers\"\r\n    :on-preview=\"handlePreview\"\r\n    :on-remove=\"handleRemove\"\r\n    :before-remove=\"beforeRemove\"\r\n    :on-success=\"handleSuccess\"\r\n    multiple\r\n    :limit=\"1\"\r\n    :on-exceed=\"handleExceed\"\r\n    :file-list=\"fileList\">\r\n    <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n    <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\r\n  </el-upload>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'ImgUpload',\r\n    data () {\r\n      return {\r\n        fileList: [],\r\n        url: ''\r\n      }\r\n    },\r\n    methods: {\r\n      handleRemove (file, fileList) {\r\n      },\r\n      handlePreview (file) {\r\n      },\r\n      handleExceed (files, fileList) {\r\n        this.$message.warning(`当前限制选择 1 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`)\r\n      },\r\n      beforeRemove (file, fileList) {\r\n        return this.$confirm(`确定移除 ${file.name}？`)\r\n      },\r\n      handleSuccess (response) {\r\n        if(response.flag && response.code === 200){\r\n          this.url = response.data\r\n          this.$emit('onUpload')\r\n          this.$message.warning('上传成功')\r\n        }else{\r\n          this.$message.warning(response.message)\r\n        }\r\n        \r\n      },\r\n      clear () {\r\n        this.$refs.upload.clearFiles()\r\n      }\r\n    }\r\n  }\r\n</script>\r\n"]}]}