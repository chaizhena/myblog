{"remainingRequest":"D:\\webProject\\vueblog-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\webProject\\vueblog-vue\\src\\views\\BlogDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\webProject\\vueblog-vue\\src\\views\\BlogDetail.vue","mtime":1638273324486},{"path":"D:\\webProject\\vueblog-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638172628679},{"path":"D:\\webProject\\vueblog-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1638172629714},{"path":"D:\\webProject\\vueblog-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638172628679},{"path":"D:\\webProject\\vueblog-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1638172630039}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgc2xpZGVCYXIgZnJvbSAiQC9jb21wb25lbnRzL3NsaWRlQmFyIjsNCmltcG9ydCBjYWxlbmRvciBmcm9tICJAL2NvbXBvbmVudHMvY2FsZW5kb3IiOw0KaW1wb3J0ICJnaXRodWItbWFya2Rvd24tY3NzL2dpdGh1Yi1tYXJrZG93bi5jc3MiOw0KaW1wb3J0IEhlYWRlciBmcm9tICJAL2NvbXBvbmVudHMvSGVhZGVyIjsNCmltcG9ydCBDb21taXQgZnJvbSAiLi4vY29tcG9uZW50cy9Db21taXQudnVlIjsNCmltcG9ydCBSZWxlYXNlIGZyb20gIi4uL2NvbXBvbmVudHMvUmVsZWFzZS52dWUiDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogIkJsb2dEZXRhaWwiLA0KICAgIGNvbXBvbmVudHM6IHsgSGVhZGVyLCBzbGlkZUJhciwgY2FsZW5kb3IsIENvbW1pdCxSZWxlYXNlIH0sDQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIGJsb2c6IHsNCiAgICAgICAgICAgICAgICB1c2VySWQ6IG51bGwsDQogICAgICAgICAgICAgICAgdGl0bGU6ICIiLA0KICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAiIiwNCiAgICAgICAgICAgICAgICBjb250ZW50OiAiIiwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBvd25CbG9nOiBmYWxzZSwNCiAgICAgICAgfTsNCiAgICB9LA0KICAgIGNvbXB1dGVkOiB7DQogICAgICAgIGlzU2hvdygpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldElzU2hvdzsNCiAgICAgICAgfSwNCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgaGlkZSgpIHsNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiY2hhbmdlSXNTaG93IiwgdGhpcy5pc1Nob3cpOw0KICAgICAgICB9LA0KICAgICAgICBnZXRCbG9nKCkgew0KICAgICAgICAgICAgY29uc3QgYmxvZ0lkID0gdGhpcy4kcm91dGUucGFyYW1zLmJsb2dJZDsNCiAgICAgICAgICAgIGNvbnN0IF90aGlzID0gdGhpczsNCiAgICAgICAgICAgIHRoaXMuJGF4aW9zLmdldCgiL2Jsb2cvIiArIGJsb2dJZCkudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKTsNCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YS5kYXRhKTsNCiAgICAgICAgICAgICAgICBfdGhpcy5ibG9nID0gcmVzLmRhdGEuZGF0YTsNCiAgICAgICAgICAgICAgICB2YXIgTWFya2Rvd25JdCA9IHJlcXVpcmUoIm1hcmtkb3duLWl0IiksIC8v6L+U5Zue55qE5Y2a5a6i6K+m5oOFY29udGVudOmAmui/h21hcmtkb3duLWl05bel5YW36L+b6KGM5riy5p+T44CCDQogICAgICAgICAgICAgICAgICAgIG1kID0gbmV3IE1hcmtkb3duSXQoKTsNCiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gbWQucmVuZGVyKF90aGlzLmJsb2cuY29udGVudCk7DQogICAgICAgICAgICAgICAgX3RoaXMuYmxvZy5jb250ZW50ID0gcmVzdWx0Ow0KICAgICAgICAgICAgICAgIC8vIOWIpOaWreaYr+WQpuaYr+iHquW3seeahOaWh+eroO+8jOiDveWQpue8lui+kQ0KICAgICAgICAgICAgICAgIF90aGlzLm93bkJsb2cgPQ0KICAgICAgICAgICAgICAgICAgICBfdGhpcy5ibG9nLnVzZXJJZCA9PT0gX3RoaXMuJHN0b3JlLmdldHRlcnMuZ2V0VXNlci5pZDsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9LA0KICAgICAgICBkZWxldGVGb3JtKCkgew0KICAgICAgICAgICAgY29uc3QgX3RoaXMgPSB0aGlzOw0KICAgICAgICAgICAgdGhpcy4kY29uZmlybSgi5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l5paH5Lu2LCDmmK/lkKbnu6fnu60/IiwgIuaPkOekuiIsIHsNCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsDQogICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsDQogICAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLA0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJGF4aW9zDQogICAgICAgICAgICAgICAgICAgICAgICAuZGVsZXRlKCI/aWQ9IiArIHRoaXMuJHJvdXRlLnBhcmFtcy5ibG9nSWQsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLliKDpmaTmiJDlip8hIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiL2Jsb2dzIik7DQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogImluZm8iLA0KICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuW3suWPlua2iOWIoOmZpCIsDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICB9LA0KICAgIH0sDQogICAgY3JlYXRlZCgpIHsNCiAgICAgICAgdGhpcy5nZXRCbG9nKCk7DQogICAgfSwNCn07DQo="},{"version":3,"sources":["BlogDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BlogDetail.vue","sourceRoot":"src/views","sourcesContent":["<!--（博客详情页）-->\r\n<template>\r\n    <div class=\"detail\">\r\n        <div class=\"front\">\r\n            <div class=\"menu\">\r\n                <i class=\"el-icon-s-home\" @click=\"hide()\"></i>\r\n                <span>胡超の万事屋</span>\r\n            </div>\r\n        </div>\r\n        <div class=\"down\">\r\n            <!-- <div class=\"left\" v-show=\"isShow\">\r\n                <slideBar />\r\n            </div> -->\r\n            <div class=\"center\">\r\n                <div class=\"blog\">\r\n                    <Header></Header>\r\n                    <div class=\"mblog\">\r\n                        <h2>{{ blog.title }}</h2>\r\n                        <el-link icon=\"el-icon-edit\" v-if=\"ownBlog\">\r\n                            <router-link\r\n                                :to=\"{\r\n                                    name: 'BlogEdit',\r\n                                    params: { blogId: blog.id },\r\n                                }\"\r\n                            >\r\n                                编辑\r\n                            </router-link>\r\n                        </el-link>\r\n                        <el-link icon=\"el-icon-edit\" v-if=\"ownBlog\">\r\n                            <el-button type=\"text\" @click=\"deleteForm()\"\r\n                                >删除</el-button\r\n                            >\r\n                        </el-link>\r\n                        <el-divider></el-divider>\r\n                        <div\r\n                            class=\"content markdown-body\"\r\n                            v-html=\"blog.content\"\r\n                        ></div>\r\n                    </div>\r\n                </div>\r\n                <!-- 评论组件 -->\r\n                <Release />\r\n                <Commit />\r\n            </div>\r\n            <div class=\"right\">\r\n                <calendor />\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport slideBar from \"@/components/slideBar\";\r\nimport calendor from \"@/components/calendor\";\r\nimport \"github-markdown-css/github-markdown.css\";\r\nimport Header from \"@/components/Header\";\r\nimport Commit from \"../components/Commit.vue\";\r\nimport Release from \"../components/Release.vue\"\r\nexport default {\r\n    name: \"BlogDetail\",\r\n    components: { Header, slideBar, calendor, Commit,Release },\r\n    data() {\r\n        return {\r\n            blog: {\r\n                userId: null,\r\n                title: \"\",\r\n                description: \"\",\r\n                content: \"\",\r\n            },\r\n            ownBlog: false,\r\n        };\r\n    },\r\n    computed: {\r\n        isShow() {\r\n            return this.$store.getters.getIsShow;\r\n        },\r\n    },\r\n    methods: {\r\n        hide() {\r\n            this.$store.commit(\"changeIsShow\", this.isShow);\r\n        },\r\n        getBlog() {\r\n            const blogId = this.$route.params.blogId;\r\n            const _this = this;\r\n            this.$axios.get(\"/blog/\" + blogId).then((res) => {\r\n                // console.log(res);\r\n                // console.log(res.data.data);\r\n                _this.blog = res.data.data;\r\n                var MarkdownIt = require(\"markdown-it\"), //返回的博客详情content通过markdown-it工具进行渲染。\r\n                    md = new MarkdownIt();\r\n                var result = md.render(_this.blog.content);\r\n                _this.blog.content = result;\r\n                // 判断是否是自己的文章，能否编辑\r\n                _this.ownBlog =\r\n                    _this.blog.userId === _this.$store.getters.getUser.id;\r\n            });\r\n        },\r\n        deleteForm() {\r\n            const _this = this;\r\n            this.$confirm(\"此操作将永久删除该文件, 是否继续?\", \"提示\", {\r\n                confirmButtonText: \"确定\",\r\n                cancelButtonText: \"取消\",\r\n                type: \"warning\",\r\n            })\r\n                .then(() => {\r\n                    this.$axios\r\n                        .delete(\"?id=\" + this.$route.params.blogId, {\r\n                            headers: {\r\n                                Authorization: localStorage.getItem(\"token\"),\r\n                            },\r\n                        })\r\n                        .then((res) => {\r\n                            this.$message({\r\n                                type: \"success\",\r\n                                message: \"删除成功!\",\r\n                            });\r\n\r\n                            _this.$router.push(\"/blogs\");\r\n                        });\r\n                })\r\n                .catch(() => {\r\n                    this.$message({\r\n                        type: \"info\",\r\n                        message: \"已取消删除\",\r\n                    });\r\n                });\r\n        },\r\n    },\r\n    created() {\r\n        this.getBlog();\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.detail {\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n.front {\r\n    width: 100%;\r\n    background-color: #c6c3c3;\r\n    z-index: 100;\r\n    position: fixed;\r\n    height: 40px;\r\n    line-height: 40px;\r\n}\r\n.front .menu {\r\n    width: 180px;\r\n}\r\n.front i {\r\n    margin-left: 20px;\r\n    color: #fcf2f2;\r\n}\r\n.front span {\r\n    font-size: 18px;\r\n    font-weight: 600;\r\n    color: #fcf2f2;\r\n    margin-left: 5px;\r\n}\r\n.down {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n    width: 100%;\r\n    margin-top: 40px;\r\n}\r\n.down .left {\r\n    top: 40px;\r\n    left: 0;\r\n    position: fixed;\r\n    height: 100%;\r\n    width: 13%;\r\n    flex-grow: 1;\r\n    background: #fdf6ec;\r\n    z-index: 10;\r\n}\r\n.down .center {\r\n    max-width: 80%;\r\n    flex-grow: 2;\r\n    background-color: #fcf2f2;\r\n    padding: 20px;\r\n}\r\n.down .center .mblog {\r\n    background-color: beige;\r\n    /* width:80%;\r\n  margin-left:8%; */\r\n    box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n    min-height: 700px;\r\n    padding: 20px 15px;\r\n}\r\n.down .right {\r\n    width: 20%;\r\n    background: #fdf6ec;\r\n}\r\n</style>"]}]}